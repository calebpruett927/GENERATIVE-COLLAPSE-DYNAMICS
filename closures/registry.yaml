# closures/registry.yaml
# Central closure registry for UMCP protocol
# Cross-references: manifest.yaml, contract.yaml, casepacks/*/closures/closure_registry.yaml
# Documentation: docs/interconnected_architecture.md, GLOSSARY.md#closure-registry
schema: "schemas/closures.schema.json"

registry:
  id: "UMCP.CLOSURES.DEFAULT.v1"
  notes: >
    Default closure registry with base closures and GCD/RCFT extensions.
    Version 1.0.0 - includes gamma, return-domain, norms, and curvature-neighborhood defaults.
  closures:
    gamma:
      path: "closures/gamma.default.v1.yaml"
    return_domain:
      path: "closures/return_domain.window64.v1.yaml"
    norms:
      path: "closures/norms.l2_eta1e-3.v1.yaml"
    curvature_neighborhood:
      path: "closures/curvature_neighborhood.default.v1.yaml"
  extensions:
    gcd:
      - name: "energy_potential"
        path: "closures/gcd/energy_potential.py"
        description: "Energy potential computation: E = ω² + α·S + β·C²"
        inputs: ["omega", "S", "C"]
        outputs: ["E_potential", "E_collapse", "E_entropy", "E_curvature", "regime"]
      - name: "entropic_collapse"
        path: "closures/gcd/entropic_collapse.py"
        description: "Entropic collapse potential: Φ_collapse = S·(1-F)·exp(-τ_R/τ_0)"
        inputs: ["S", "F", "tau_R"]
        outputs: ["phi_collapse", "S_contribution", "F_contribution", "tau_damping", "regime"]
      - name: "generative_flux"
        path: "closures/gcd/generative_flux.py"
        description: "Generative flux: Φ_gen = κ·√IC·(1+C²)"
        inputs: ["kappa", "IC", "C"]
        outputs: ["phi_gen", "kappa_component", "IC_amplification", "curvature_modulation", "regime"]
      - name: "field_resonance"
        path: "closures/gcd/field_resonance.py"
        description: "Field resonance: R = (1-|ω|)·(1-S)·exp(-C/C_crit)"
        inputs: ["omega", "S", "C"]
        outputs: ["resonance", "coherence_factor", "order_factor", "curvature_damping", "regime"]
      - name: "momentum_flux"
        path: "closures/gcd/momentum_flux.py"
        description: "Momentum transfer flux: Φ_momentum = (dκ/dt)·√(1+C²)·(1-ω)"
        inputs: ["kappa_series", "C_series", "omega_series", "dt"]
        outputs: ["phi_momentum", "dkappa_dt", "mean_flux", "regime", "net_integrity_change", "flux_variance"]
    rcft:
      - name: "fractal_dimension"
        path: "closures/rcft/fractal_dimension.py"
        description: "Fractal dimension of collapse trajectory: D_f = log(N(ε))/log(1/ε)"
        inputs: ["trajectory", "eps_values"]
        outputs: ["D_fractal", "regime", "box_counts", "r_squared", "log_slope"]
      - name: "recursive_field"
        path: "closures/rcft/recursive_field.py"
        description: "Recursive field strength: Ψ_r = Σ α^n·Ψ_n"
        inputs: ["S_series", "C_series", "F_series", "alpha"]
        outputs: ["Psi_recursive", "regime", "contributions", "convergence_achieved"]
      - name: "resonance_pattern"
        path: "closures/rcft/resonance_pattern.py"
        description: "Resonance pattern analysis: λ_p, Θ via FFT"
        inputs: ["field_series", "dt"]
        outputs: ["lambda_pattern", "Theta_phase", "pattern_type", "phase_coherence"]
      - name: "attractor_basin"
        path: "closures/rcft/attractor_basin.py"
        description: "Attractor basin topology: B = -∇²Ψ_r / ||∇Ψ_r||"
        inputs: ["omega_series", "S_series", "C_series", "psi_r_series"]
        outputs: ["n_attractors_found", "attractor_locations", "basin_strengths", "regime", "convergence_rates", "basin_volumes"]
      - name: "active_matter"
        path: "closures/rcft/active_matter.py"
        description: "Active matter frictional cooling: 4D Ψ-embedding, corrected regime analysis (Antonov et al. 2025)"
        inputs: ["velocities", "phase_boundaries"]
        outputs: ["phases", "fisher_distances", "path_efficiency", "universality", "grammar", "corrected_thresholds"]
    optimizations:
      - name: "tau_R_optimized"
        path: "src/umcp/tau_R_optimized.py"
        description: "Optimized return time computation (OPT-7,8,9): Domain caching, Karp cycle detection, vectorized bounds"
        optimizations: ["OPT-7", "OPT-8", "OPT-9"]
        inputs: ["trajectory", "theta", "bounds"]
        outputs: ["tau_R", "cycle_info", "bounds"]
      - name: "kernel_optimized"
        path: "src/umcp/kernel_optimized.py"
        description: "Optimized kernel computations (OPT-1,2,3,4,12,14,15): Lemma-based bounds validation, vectorized invariants"
        optimizations: ["OPT-1", "OPT-2", "OPT-3", "OPT-4", "OPT-12", "OPT-14", "OPT-15"]
        inputs: ["kappa", "omega", "S", "C", "F", "IC"]
        outputs: ["validated", "invariants"]
      - name: "seam_optimized"
        path: "src/umcp/seam_optimized.py"
        description: "Optimized seam chain accumulation (OPT-10,11): ε-closure caching, incremental updates"
        optimizations: ["OPT-10", "OPT-11"]
        inputs: ["seam_chain", "epsilon"]
        outputs: ["accumulated_seam", "graph"]
      - name: "compute_utils"
        path: "src/umcp/compute_utils.py"
        description: "General computational utilities (OPT-17,20): Weight pruning, coordinate clipping, batch processing"
        optimizations: ["OPT-17", "OPT-20"]
        inputs: ["weights", "coordinates", "batch"]
        outputs: ["pruned", "clipped", "statistics"]
    kinematics:
      - name: "linear_kinematics"
        path: "closures/kinematics/linear_kinematics.py"
        description: "Linear kinematics: position, velocity, acceleration with predictions"
        contract: "KIN.INTSTACK.v1"
        inputs: ["x", "v", "a", "dt"]
        outputs: ["position", "velocity", "acceleration", "phase_magnitude", "phase_angle", "predicted_x_next", "predicted_v_next", "regime"]
      - name: "rotational_kinematics"
        path: "closures/kinematics/rotational_kinematics.py"
        description: "Rotational kinematics: angular position, velocity, acceleration, torque"
        contract: "KIN.INTSTACK.v1"
        inputs: ["theta", "omega_rot", "alpha", "I_normalized", "dt"]
        outputs: ["theta", "omega_rot", "alpha", "angular_momentum", "torque", "E_rotational", "regime"]
      - name: "energy_mechanics"
        path: "closures/kinematics/energy_mechanics.py"
        description: "Energy mechanics: kinetic, potential, mechanical energy, work, power"
        contract: "KIN.INTSTACK.v1"
        inputs: ["v", "h", "m_normalized", "F_net", "displacement"]
        outputs: ["E_kinetic", "E_potential", "E_mechanical", "W", "P_power", "regime"]
      - name: "momentum_dynamics"
        path: "closures/kinematics/momentum_dynamics.py"
        description: "Momentum dynamics: linear momentum, impulse, collisions, conservation"
        contract: "KIN.INTSTACK.v1"
        inputs: ["v", "m_normalized", "F_net", "dt"]
        outputs: ["p", "J", "collision_results", "momentum_conserved", "regime"]
      - name: "phase_space_return"
        path: "closures/kinematics/phase_space_return.py"
        description: "Phase space return: τ_kin computation in (x,v) space"
        contract: "KIN.INTSTACK.v1"
        inputs: ["x_series", "v_series", "eta_phase", "H_rec_kin"]
        outputs: ["tau_kin", "return_status", "return_rate", "dynamics_regime"]
      - name: "kinematic_stability"
        path: "closures/kinematics/kinematic_stability.py"
        description: "Kinematic stability: K_stability index, regime classification"
        contract: "KIN.INTSTACK.v1"
        inputs: ["x_series", "v_series", "a_series"]
        outputs: ["K_stability", "S_kin", "C_kin", "omega_kin", "regime", "motion_regime"]
      - name: "kin_ref_phase"
        path: "casepacks/kin_ref_phase_oscillator/closures/kin_ref_phase.py"
        description: "KIN.REF.PHASE: Deterministic phase-anchor selection for oscillatory motion"
        contract: "KIN.INTSTACK.v1"
        inputs: ["x_series", "v_series", "t"]
        outputs: ["anchor_u", "delta_phi", "undefined_reason", "phi", "eligible_count"]
        frozen_params:
          delta_phi_max: 0.5235987756
          window: 20
          debounce: 3
    weyl:
      - name: "weyl_transfer"
        path: "closures/weyl/weyl_transfer.py"
        description: "Weyl transfer function T_{Ψ_W}(k,z) for modified gravity evolution"
        contract: "WEYL.INTSTACK.v1"
        inputs: ["H_z", "J", "D1", "B_boost", "z", "z_star"]
        outputs: ["T_Weyl", "T_ratio", "regime"]
        source: "Nature Comms 15:9295 (2024) Eq. 2"
      - name: "limber_integral"
        path: "closures/weyl/limber_integral.py"
        description: "Limber approximation for C_ℓ (galaxy-galaxy lensing and clustering)"
        contract: "WEYL.INTSTACK.v1"
        inputs: ["n_lens", "n_source", "H_z", "hJ", "hb", "B_boost", "P_lin", "chi", "ell_values"]
        outputs: ["C_ell_ggl", "C_ell_gg", "regime"]
        source: "Nature Comms 15:9295 (2024) Eq. 3, 6"
      - name: "beyond_limber"
        path: "closures/weyl/beyond_limber.py"
        description: "Beyond-Limber correction for ℓ < 200 using spherical Bessel functions"
        contract: "WEYL.INTSTACK.v1"
        inputs: ["n_i", "n_j", "H_z", "hb", "P_lin", "chi", "ell"]
        outputs: ["C_ell_lin", "spherical_bessel_term"]
        source: "Nature Comms 15:9295 (2024) Eq. 7"
      - name: "sigma_evolution"
        path: "closures/weyl/sigma_evolution.py"
        description: "Modified gravity Σ(z) parametrization and ĥJ → Σ mapping"
        contract: "WEYL.INTSTACK.v1"
        inputs: ["hJ", "Omega_m", "D1", "sigma8_star"]
        outputs: ["Sigma", "Sigma_0", "g_z", "regime"]
        source: "Nature Comms 15:9295 (2024) Eq. 11-13"
      - name: "boost_factor"
        path: "closures/weyl/boost_factor.py"
        description: "Nonlinear boost factor B(k,z) = P_nl/P_lin"
        contract: "WEYL.INTSTACK.v1"
        inputs: ["k", "z", "P_lin", "P_nl"]
        outputs: ["B_boost", "nl_correction"]
      - name: "cosmology_background"
        path: "closures/weyl/cosmology_background.py"
        description: "Background cosmology: H(z), χ(z), D₁(z), Ω_m(z), σ8(z)"
        contract: "WEYL.INTSTACK.v1"
        inputs: ["z", "Omega_m_0", "h_0"]
        outputs: ["H_z", "chi", "D1", "Omega_m_z", "sigma8_z"]
        frozen_params:
          Omega_m_0: 0.315
          Omega_Lambda_0: 0.685
          H_0: 67.4
          sigma8_0: 0.811
          n_s: 0.965

    security:
      - name: "trust_fidelity"
        path: "closures/security/trust_fidelity.py"
        description: "Trust Fidelity (T) and Threat Drift (θ) - Tier-1 structural invariant"
        contract: "SECURITY.INTSTACK.v1"
        inputs: ["signals", "weights", "reference"]
        outputs: ["T", "theta", "residual", "regime"]
      - name: "security_entropy"
        path: "closures/security/security_entropy.py"
        description: "Security Entropy (H) and Signal Dispersion (D) - Tier-1 structural invariant"
        contract: "SECURITY.INTSTACK.v1"
        inputs: ["signals", "weights"]
        outputs: ["H", "D", "regime"]
      - name: "trust_integrity"
        path: "closures/security/trust_integrity.py"
        description: "Log-Integrity (σ) and Trust IC (TIC) - Tier-1 structural invariant"
        contract: "SECURITY.INTSTACK.v1"
        inputs: ["signals", "weights"]
        outputs: ["sigma", "TIC", "sigma_components", "regime"]
      - name: "anomaly_return"
        path: "closures/security/anomaly_return.py"
        description: "Anomaly Return Time (τ_A) - Tier-1 structural invariant"
        contract: "SECURITY.INTSTACK.v1"
        inputs: ["t", "signal_history", "eta", "horizon", "weights"]
        outputs: ["tau_A", "baseline", "regime"]
      - name: "threat_classifier"
        path: "closures/security/threat_classifier.py"
        description: "Threat classification from invariants - Tier-2 domain expansion"
        contract: "SECURITY.INTSTACK.v1"
        inputs: ["T", "theta", "H", "D", "sigma", "TIC", "tau_A"]
        outputs: ["threat_type", "confidence", "severity", "recommendations"]
      - name: "reputation_analyzer"
        path: "closures/security/reputation_analyzer.py"
        description: "URL/file/IP reputation analysis - Tier-2 domain expansion"
        contract: "SECURITY.INTSTACK.v1"
        inputs: ["url", "file_hash", "ip_address"]
        outputs: ["reputation_type", "score", "indicators"]
      - name: "behavior_profiler"
        path: "closures/security/behavior_profiler.py"
        description: "Behavior baseline profiling - Tier-2 domain expansion"
        contract: "SECURITY.INTSTACK.v1"
        inputs: ["signal_series", "weights"]
        outputs: ["mean", "std", "percentiles", "trend"]
      - name: "privacy_auditor"
        path: "closures/security/privacy_auditor.py"
        description: "PII detection and privacy audit - Tier-2 domain expansion"
        contract: "SECURITY.INTSTACK.v1"
        inputs: ["data", "privacy_rules", "consent_records"]
        outputs: ["pii_found", "violations", "privacy_score"]

    finance:
      - name: "finance_embedding"
        path: "closures/finance/finance_embedding.py"
        description: "Financial metric embedding: revenue, expenses, margin, cashflow → [0,1]^4"
        contract: "FINANCE.INTSTACK.v1"
        inputs: ["revenue", "expenses", "cogs", "cashflow", "revenue_target", "expense_budget", "cashflow_target"]
        outputs: ["revenue_performance", "expense_control", "gross_margin", "cashflow_health"]
        frozen_params:
          weights: [0.30, 0.25, 0.25, 0.20]
          epsilon: 1.0e-12

    astronomy:
      - name: "stellar_luminosity"
        path: "closures/astronomy/stellar_luminosity.py"
        description: "Stefan-Boltzmann + mass-luminosity: L = 4πR²σT⁴, L ∝ M^α"
        contract: "ASTRO.INTSTACK.v1"
        inputs: ["M_star", "T_eff", "R_star"]
        outputs: ["L_predicted", "L_SB", "delta_L", "lambda_peak", "regime"]
        frozen_params:
          sigma_SB: 5.670374419e-08
          b_Wien: 2897771.955
          ML_alpha_mid: 4.0
      - name: "orbital_mechanics"
        path: "closures/astronomy/orbital_mechanics.py"
        description: "Kepler's third law: P² = (4π²/GM)a³, orbital stability"
        contract: "ASTRO.INTSTACK.v1"
        inputs: ["P_orb", "a_semi", "M_total", "e_orb"]
        outputs: ["P_predicted", "kepler_residual", "v_orb", "E_orbital", "regime"]
        frozen_params:
          G_grav: 6.67430e-11
      - name: "spectral_analysis"
        path: "closures/astronomy/spectral_analysis.py"
        description: "Wien's law + B−V calibration + spectral class embedding O-M → [0,1]"
        contract: "ASTRO.INTSTACK.v1"
        inputs: ["T_eff", "B_V", "spectral_class"]
        outputs: ["lambda_peak", "T_from_BV", "spectral_embedding", "chi2_spectral", "regime"]
        source: "Wien 1893, Ballesteros 2012 EPL 97:34008"
      - name: "distance_ladder"
        path: "closures/astronomy/distance_ladder.py"
        description: "Multi-method distance: parallax, distance modulus, Hubble flow"
        contract: "ASTRO.INTSTACK.v1"
        inputs: ["m_app", "M_abs", "pi_arcsec", "z_cosmo"]
        outputs: ["d_modulus", "d_parallax", "d_hubble", "distance_consistency", "regime"]
        frozen_params:
          H_0_fiducial: 70.0
          c_light: 299800.0
      - name: "gravitational_dynamics"
        path: "closures/astronomy/gravitational_dynamics.py"
        description: "Virial theorem + rotation curves: M_vir = 5σ²R/G, dark matter fraction"
        contract: "ASTRO.INTSTACK.v1"
        inputs: ["v_rot", "r_obs", "sigma_v", "M_luminous"]
        outputs: ["M_virial", "M_dynamic", "dark_matter_fraction", "virial_ratio", "regime"]
        frozen_params:
          G_grav: 6.67430e-11
      - name: "stellar_evolution"
        path: "closures/astronomy/stellar_evolution.py"
        description: "Main-sequence lifetime t_MS ≈ M/L · t_sun, evolutionary phase classification"
        contract: "ASTRO.INTSTACK.v1"
        inputs: ["M_star", "L", "T_eff", "age_Gyr"]
        outputs: ["t_MS", "evolutionary_phase", "L_ZAMS", "T_ZAMS", "regime"]
        frozen_params:
          t_sun_MS: 10.0
      - name: "cosmology"
        path: "closures/astronomy/cosmology.py"
        description: "Planck 2018 ΛCDM parameters across 6 cosmological epochs (inflation → present)"
        contract: "ASTRO.INTSTACK.v1"
        inputs: ["redshift", "H", "Omega_b", "Omega_c", "Omega_Lambda", "T_cmb", "n_s", "sigma_8", "tau"]
        outputs: ["F", "omega", "IC", "kappa", "S", "C", "gap", "regime"]
        frozen_params:
          H0_Planck: 67.36
          Omega_b_h2: 0.02237
          Omega_c_h2: 0.1200
          T_CMB: 2.7255
          n_s: 0.9649
          sigma_8: 0.8111
        cross_references:
          - "closures/astronomy/distance_ladder.py"
          - "closures/astronomy/gravitational_dynamics.py"

    quantum_mechanics:
      - name: "wavefunction_collapse"
        path: "closures/quantum_mechanics/wavefunction_collapse.py"
        description: "Born rule validation: P = |⟨φ|ψ⟩|², state fidelity, purity"
        contract: "QM.INTSTACK.v1"
        inputs: ["psi_amplitudes", "measurement_basis", "observed_counts"]
        outputs: ["P_born", "delta_P", "fidelity_state", "purity", "regime"]
      - name: "entanglement"
        path: "closures/quantum_mechanics/entanglement.py"
        description: "Wootters concurrence, von Neumann entropy, Bell-CHSH parameter"
        contract: "QM.INTSTACK.v1"
        inputs: ["rho_eigenvalues", "bell_correlations"]
        outputs: ["concurrence", "S_vN", "bell_parameter", "negativity", "regime"]
        frozen_params:
          bell_classical_limit: 2.0
          bell_quantum_limit: 2.8284
      - name: "tunneling"
        path: "closures/quantum_mechanics/tunneling.py"
        description: "Rectangular barrier: T ≈ exp(-2κL), κ = √(2m(V₀-E))/ℏ"
        contract: "QM.INTSTACK.v1"
        inputs: ["E_particle", "V_barrier", "barrier_width", "particle_mass"]
        outputs: ["T_coeff", "kappa_barrier", "T_classical", "T_ratio", "regime"]
        frozen_params:
          hbar: 1.054571817e-34
          m_electron: 9.1093837015e-31
      - name: "harmonic_oscillator"
        path: "closures/quantum_mechanics/harmonic_oscillator.py"
        description: "Energy quantization E_n = ℏω(n + ½), coherent & squeezed states"
        contract: "QM.INTSTACK.v1"
        inputs: ["n_quanta", "omega_freq", "E_observed"]
        outputs: ["E_predicted", "delta_E", "coherent_alpha", "squeeze_r", "regime"]
      - name: "spin_measurement"
        path: "closures/quantum_mechanics/spin_measurement.py"
        description: "Stern-Gerlach: S_z eigenvalues, Zeeman splitting ΔE = gμ_B·B, Larmor precession"
        contract: "QM.INTSTACK.v1"
        inputs: ["S_total", "S_z_observed", "B_field", "g_factor"]
        outputs: ["S_z_predicted", "spin_fidelity", "larmor_freq", "zeeman_split", "regime"]
        frozen_params:
          mu_B: 9.2740100783e-24
          g_electron: 2.00231930436
      - name: "uncertainty_principle"
        path: "closures/quantum_mechanics/uncertainty_principle.py"
        description: "Heisenberg: Δx·Δp ≥ ℏ/2, ratio R = (Δx·Δp)/(ℏ/2) must be ≥ 1"
        contract: "QM.INTSTACK.v1"
        inputs: ["delta_x", "delta_p", "particle_mass"]
        outputs: ["heisenberg_product", "heisenberg_ratio", "min_uncertainty", "regime"]
        frozen_params:
          hbar_over_2: 5.272859085e-35
      - name: "ters_near_field"
        path: "closures/quantum_mechanics/ters_near_field.py"
        description: >
          TERS near-field independent derivation: 7 theorems mapping Brezina, Litman
          & Rossi (ACS Nano 2026) conclusions to GCD/RCFT kernel invariants.
          8-channel trace (polarizability, field gradient, screening, mode
          projection, self-fraction, periodicity, binding sensitivity).
          Fisher geodesic distance bridge to RCFT information geometry.
        contract: "QM.INTSTACK.v1"
        inputs: ["alpha_zz_norm", "field_grad_norm", "displacement_norm",
                 "screening_factor", "mode_projection", "self_fraction",
                 "periodicity_fidelity", "binding_sensitivity"]
        outputs: ["F", "omega", "IC", "kappa", "regime",
                  "delta_heterogeneity", "fisher_distance", "theorem_verdicts"]
        frozen_params:
          epsilon: 1.0e-8
          tip_height_AA: 4.0
          E_field_VA: 0.1
          d_PBE_TS_AA: 2.86
          d_PBE_MBD_AA: 3.07
        reference: "DOI:10.1021/acsnano.5c16052"

    nuclear_physics:
      - name: "nuclide_binding"
        path: "closures/nuclear_physics/nuclide_binding.py"
        description: "Bethe-Weizsäcker SEMF: BE/A computation, normalization to Ni-62 peak"
        contract: "NUC.INTSTACK.v1"
        inputs: ["Z", "A", "BE_per_A_measured"]
        outputs: ["BE_total", "BE_per_A", "BE_per_A_norm", "Psi_BE", "omega_eff", "F_eff", "regime"]
        frozen_params:
          a_V: 15.67
          a_S: 17.23
          a_C: 0.714
          a_A: 23.29
          a_P: 11.2
          BE_peak_ref: 8.7945
      - name: "alpha_decay"
        path: "closures/nuclear_physics/alpha_decay.py"
        description: "Geiger-Nuttall: log₁₀(T½) = a/√Q_α + b, mean lifetime τ = T½/ln(2)"
        contract: "NUC.INTSTACK.v1"
        inputs: ["Z_parent", "A_parent", "Q_alpha_MeV", "half_life_s_measured"]
        outputs: ["Q_alpha", "half_life_s", "mean_lifetime_s", "log10_tau_s", "Psi_log_tau", "Psi_Q_alpha", "regime"]
        frozen_params:
          lifetime_convention: "mean_lifetime"
          Q_alpha_scale: 10.0
          tau_scale: 25.0
      - name: "decay_chain"
        path: "closures/nuclear_physics/decay_chain.py"
        description: "Multi-step collapse cascade: U-238 → Pb-206 (8α + 6β⁻) as paradigm"
        contract: "NUC.INTSTACK.v1"
        inputs: ["steps"]
        outputs: ["chain_length", "total_nucleons_shed", "endpoint_isotope", "bottleneck_step", "total_Q_MeV", "regime"]
      - name: "fissility"
        path: "closures/nuclear_physics/fissility.py"
        description: "Bohr-Wheeler: x = (Z²/A)/(Z²/A)_crit, Coulomb vs surface competition"
        contract: "NUC.INTSTACK.v1"
        inputs: ["Z", "A"]
        outputs: ["Z_squared_over_A", "fissility_x", "coulomb_energy", "surface_energy", "Psi_fiss", "regime"]
        frozen_params:
          a_S: 17.23
          a_C: 0.714
          Z2A_crit: 48.26
      - name: "shell_structure"
        path: "closures/nuclear_physics/shell_structure.py"
        description: "Magic numbers: Z=[2,8,20,28,50,82,114], N=[2,8,20,28,50,82,126,184]"
        contract: "NUC.INTSTACK.v1"
        inputs: ["Z", "A", "BE_total_measured"]
        outputs: ["magic_proton", "magic_neutron", "doubly_magic", "shell_correction", "regime"]
      - name: "double_sided_collapse"
        path: "closures/nuclear_physics/double_sided_collapse.py"
        description: "O.NUC.DOUBLEFACE.v1: signed distance to Ni-62 peak, convergence direction"
        contract: "NUC.INTSTACK.v1"
        inputs: ["Z", "A", "BE_per_A"]
        outputs: ["signed_distance", "side", "convergence_direction", "omega_eff", "regime"]
        frozen_params:
          BE_peak_ref: 8.7945
          A_peak: 62
      - name: "element_data"
        path: "closures/nuclear_physics/element_data.py"
        description: "Reference nuclear data for 118 elements (AME2020/NUBASE2020) with dimensionless coordinate mapping"
        contract: "NUC.INTSTACK.v1"
        inputs: ["Z"]
        outputs: ["symbol", "name", "A", "BE_per_A", "half_life_s", "N", "c1", "c2", "c3"]
        frozen_params:
          BE_peak_ref: 8.7945
          age_universe_s: 4.35e17
          nz_valley_scale: 0.5
      - name: "periodic_table"
        path: "closures/nuclear_physics/periodic_table.py"
        description: "Tier-2 diagnostic: classifies all 118 elements through GCD collapse dynamics (binding coherence, temporal return, valley proximity)"
        contract: "NUC.INTSTACK.v1"
        inputs: ["Z"]
        outputs: ["symbol", "name", "c1", "c2", "c3", "omega", "F", "S", "C", "IC", "kappa", "regime", "physics_note"]
        frozen_params:
          epsilon: 1.0e-8
          weights: [0.333333, 0.333333, 0.333333]
          BE_peak_ref: 8.7945

    atomic_physics:
      - name: "ionization_energy"
        path: "closures/atomic_physics/ionization_energy.py"
        description: "Hydrogen-like ionization energy with Slater screening vs NIST IE₁ (Z=1-36)"
        contract: "ATOM.INTSTACK.v1"
        inputs: ["Z"]
        outputs: ["IE_predicted_eV", "IE_measured_eV", "Z_eff", "n_eff", "omega_eff", "F_eff", "Psi_IE", "regime"]
        frozen_params:
          epsilon: 1.0e-8
          weights: [0.333333, 0.333333, 0.333333]
      - name: "spectral_lines"
        path: "closures/atomic_physics/spectral_lines.py"
        description: "Rydberg formula spectral line computation (Lyman, Balmer, Paschen, Brackett series)"
        contract: "ATOM.INTSTACK.v1"
        inputs: ["Z", "n_lower", "n_upper"]
        outputs: ["lambda_predicted_nm", "energy_eV", "series_name", "omega_eff", "F_eff", "regime"]
        frozen_params:
          epsilon: 1.0e-8
          R_inf: 1.0973731568160e7
      - name: "electron_config"
        path: "closures/atomic_physics/electron_config.py"
        description: "Aufbau electron configuration, shell completeness, noble gas core abbreviation"
        contract: "ATOM.INTSTACK.v1"
        inputs: ["Z"]
        outputs: ["configuration", "shell_completeness", "group_block", "valence_electrons", "omega_eff", "F_eff", "regime"]
        frozen_params:
          epsilon: 1.0e-8
      - name: "fine_structure"
        path: "closures/atomic_physics/fine_structure.py"
        description: "Dirac fine structure correction and Lamb shift estimates"
        contract: "ATOM.INTSTACK.v1"
        inputs: ["Z", "n", "l", "j"]
        outputs: ["E_n_eV", "E_fine_eV", "E_lamb_eV", "Z_alpha_squared", "splitting_eV", "omega_eff", "regime"]
        frozen_params:
          alpha: 7.2973525693e-3
      - name: "selection_rules"
        path: "closures/atomic_physics/selection_rules.py"
        description: "E1 electric dipole selection rule validation (Δl, Δm, Δj, parity)"
        contract: "ATOM.INTSTACK.v1"
        inputs: ["n_i", "l_i", "ml_i", "s_i", "j_i", "n_f", "l_f", "ml_f", "s_f", "j_f"]
        outputs: ["transition_type", "rules_satisfied", "rules_total", "omega_eff", "regime"]
      - name: "zeeman_stark"
        path: "closures/atomic_physics/zeeman_stark.py"
        description: "Zeeman and Stark effect energy splitting (Landé g-factor, anomalous Zeeman)"
        contract: "ATOM.INTSTACK.v1"
        inputs: ["Z", "n", "l", "s", "j", "mj", "B_tesla", "E_field_Vm"]
        outputs: ["delta_E_zeeman_eV", "delta_E_stark_eV", "g_lande", "n_zeeman_levels", "omega_eff", "regime"]
        frozen_params:
          mu_B: 5.7883818060e-5

    standard_model:
      - name: "particle_catalog"
        path: "closures/standard_model/particle_catalog.py"
        description: "Complete SM particle table (17 particles) with PDG 2024 masses, UMCP coordinate embedding"
        contract: "SM.INTSTACK.v1"
        inputs: ["particle_name"]
        outputs: ["symbol", "mass_GeV", "charge_e", "spin", "c1", "c2", "c3", "omega", "F", "regime"]
      - name: "coupling_constants"
        path: "closures/standard_model/coupling_constants.py"
        description: "1-loop RGE running of α_s and α_em with quark mass thresholds"
        contract: "SM.INTSTACK.v1"
        inputs: ["Q_GeV"]
        outputs: ["alpha_s", "alpha_em", "sin2_theta_W", "n_flavors", "unification_proximity", "omega_eff", "regime"]
        frozen_params:
          alpha_s_MZ: 0.1179
          M_Z: 91.1876
      - name: "cross_sections"
        path: "closures/standard_model/cross_sections.py"
        description: "e⁺e⁻→hadrons R-ratio and point cross section with QCD corrections"
        contract: "SM.INTSTACK.v1"
        inputs: ["sqrt_s_GeV"]
        outputs: ["R_predicted", "R_QCD_corrected", "sigma_point_pb", "n_colors", "n_active_flavors", "omega_eff", "regime"]
        frozen_params:
          N_c: 3
      - name: "symmetry_breaking"
        path: "closures/standard_model/symmetry_breaking.py"
        description: "Higgs mechanism: VEV, quartic coupling, Yukawa couplings, W/Z mass predictions"
        contract: "SM.INTSTACK.v1"
        inputs: ["v_GeV", "m_H_GeV"]
        outputs: ["v_GeV", "lambda_quartic", "mu_squared", "yukawa_couplings", "m_W_predicted", "m_Z_predicted", "omega_eff", "regime"]
        frozen_params:
          v_pdg: 246.22
          m_H_pdg: 125.25
      - name: "ckm_mixing"
        path: "closures/standard_model/ckm_mixing.py"
        description: "CKM quark mixing matrix from Wolfenstein parametrization, unitarity triangle, Jarlskog invariant"
        contract: "SM.INTSTACK.v1"
        inputs: ["lambda_W", "A", "rho_bar", "eta_bar"]
        outputs: ["V_matrix", "J_CP", "triangle_angles", "unitarity_row1", "omega_eff", "regime"]
        frozen_params:
          lambda_pdg: 0.22650
          A_pdg: 0.790
          rho_bar_pdg: 0.141
          eta_bar_pdg: 0.357
      - name: "pmns_mixing"
        path: "closures/standard_model/pmns_mixing.py"
        description: "PMNS lepton mixing matrix from NuFIT 5.3, neutrino oscillations, CKM-PMNS complementarity"
        contract: "SM.INTSTACK.v1"
        inputs: ["sin2_theta12", "sin2_theta23", "sin2_theta13", "delta_cp_deg"]
        outputs: ["U_matrix", "J_CP", "unitarity_check", "F", "omega", "IC", "gap", "regime"]
        frozen_params:
          sin2_theta12: 0.303
          sin2_theta23: 0.572
          sin2_theta13: 0.02203
          delta_cp_deg: 197.0
          dm2_21: 7.41e-5
          dm2_32: 2.507e-3
        cross_references:
          - "closures/standard_model/ckm_mixing.py"

    materials_science:
      - name: "cohesive_energy"
        path: "closures/materials_science/cohesive_energy.py"
        description: "Cohesive energy from atomic IE + Madelung/Born-Mayer/Friedel models, normalized to W peak"
        contract: "MATL.INTSTACK.v1"
        inputs: ["Z", "symbol", "IE1_eV", "Z_eff", "n_eff", "n_valence", "electronegativity_diff", "r0_angstrom"]
        outputs: ["E_coh_eV", "bond_type", "madelung_constant", "r0_A", "omega_eff", "F_eff", "Psi_coh", "regime"]
        frozen_params:
          E_coh_ref: 8.94
        cross_references:
          - "closures/atomic_physics/ionization_energy.py"
          - "closures/nuclear_physics/nuclide_binding.py"
      - name: "phase_transition"
        path: "closures/materials_science/phase_transition.py"
        description: "RCFT universality class → material phase transitions (structural, magnetic, superconducting)"
        contract: "MATL.INTSTACK.v1"
        inputs: ["T_K", "T_c_K", "material_key", "transition_type", "p"]
        outputs: ["reduced_t", "order_parameter", "susceptibility", "correlation_length_ratio", "specific_heat_singular", "nu", "gamma", "alpha", "beta_exp", "c_eff", "d_eff", "omega_eff", "regime"]
        frozen_params:
          p_default: 3
        cross_references:
          - "closures/rcft/universality_class.py"
          - "closures/rcft/attractor_basin.py"
          - "closures/standard_model/symmetry_breaking.py"
      - name: "elastic_moduli"
        path: "closures/materials_science/elastic_moduli.py"
        description: "Elastic moduli from interatomic potential curvature + RCFT softening scaling near T_c"
        contract: "MATL.INTSTACK.v1"
        inputs: ["E_coh_eV", "r0_A", "symbol", "V0_A3", "n_neighbors", "nu_poisson"]
        outputs: ["K_GPa", "G_GPa", "E_GPa", "nu_poisson", "rcft_K_exponent", "rcft_G_exponent", "omega_eff", "regime"]
        frozen_params:
          eV_A3_to_GPa: 160.2176634
        cross_references:
          - "closures/materials_science/cohesive_energy.py"
          - "closures/rcft/universality_class.py"
      - name: "band_structure"
        path: "closures/materials_science/band_structure.py"
        description: "Band gap + conductor class from atomic config, RCFT attractor basins + Fisher geodesic distance"
        contract: "MATL.INTSTACK.v1"
        inputs: ["Z", "symbol", "IE1_eV", "Z_eff", "n_eff", "n_neighbors"]
        outputs: ["E_g_eV", "band_character", "bandwidth_eV", "spin_orbit_eV", "rcft_basin_type", "rcft_fisher_distance", "omega_eff", "Psi_band", "regime"]
        cross_references:
          - "closures/atomic_physics/electron_config.py"
          - "closures/atomic_physics/ionization_energy.py"
          - "closures/rcft/attractor_basin.py"
          - "closures/rcft/information_geometry.py"
      - name: "debye_thermal"
        path: "closures/materials_science/debye_thermal.py"
        description: "Debye model thermodynamics via RCFT partition function bridge (c_eff = 1/p acoustic modes)"
        contract: "MATL.INTSTACK.v1"
        inputs: ["T_K", "symbol", "Theta_D_K", "K_GPa", "G_GPa", "rho_kg_m3"]
        outputs: ["Theta_D_K", "C_V_J_mol_K", "C_V_normalized", "U_J_mol", "S_J_mol_K", "kappa_thermal_W_mK", "rcft_c_eff", "omega_eff", "regime"]
        cross_references:
          - "closures/materials_science/elastic_moduli.py"
          - "closures/rcft/universality_class.py"
          - "closures/rcft/information_geometry.py"
      - name: "magnetic_properties"
        path: "closures/materials_science/magnetic_properties.py"
        description: "Magnetic properties: Weiss molecular field + RCFT β=5/6 → M(T), χ(T), Curie/Néel transitions"
        contract: "MATL.INTSTACK.v1"
        inputs: ["Z", "symbol", "T_K", "B_tesla", "n_unpaired", "T_ordering_K"]
        outputs: ["mu_eff_B", "M_total_B", "M_sat_B", "chi_SI", "T_ordering_K", "magnetic_class", "exchange_J_meV", "Curie_const", "n_unpaired", "rcft_beta", "rcft_gamma", "omega_eff", "F_eff", "regime"]
        frozen_params:
          rcft_beta: 0.833333
          rcft_gamma: 0.333333
        cross_references:
          - "closures/atomic_physics/zeeman_stark.py"
          - "closures/rcft/universality_class.py"
          - "closures/materials_science/phase_transition.py"
      - name: "bcs_superconductivity"
        path: "closures/materials_science/bcs_superconductivity.py"
        description: "BCS superconductivity: McMillan T_c, BCS gap, coherence/penetration lengths, GL parameter κ"
        contract: "MATL.INTSTACK.v1"
        inputs: ["Theta_D_K", "lambda_ep", "T_K", "mu_star", "symbol"]
        outputs: ["T_c_K", "Delta_0_meV", "xi_0_nm", "lambda_L_nm", "kappa_GL", "sc_type", "BCS_ratio", "gap_ratio_T", "rcft_attractor_depth", "omega_eff", "F_eff", "regime"]
        frozen_params:
          mu_star_default: 0.13
          bcs_ratio_weak: 3.528
        cross_references:
          - "closures/materials_science/debye_thermal.py"
          - "closures/rcft/universality_class.py"
          - "closures/materials_science/phase_transition.py"
      - name: "surface_catalysis"
        path: "closures/materials_science/surface_catalysis.py"
        description: "Surface energy + catalytic activity via broken-bond model, d-band center theory, BEP relation"
        contract: "MATL.INTSTACK.v1"
        inputs: ["E_coh_eV", "Z", "symbol", "r0_A", "z_bulk", "z_surface", "d_band_center_eV"]
        outputs: ["gamma_J_m2", "gamma_eV_A2", "E_ads_eV", "E_act_eV", "E_vacancy_eV", "broken_bond_fraction", "catalytic_class", "rcft_return_deficit", "omega_eff", "F_eff", "regime"]
        cross_references:
          - "closures/materials_science/cohesive_energy.py"
          - "closures/rcft/universality_class.py"
          - "closures/materials_science/elastic_moduli.py"

    everyday_physics:
      - name: "thermodynamics"
        path: "closures/everyday_physics/thermodynamics.py"
        description: "Thermal material properties (Cp, k, ρ, Tm, Tb, α) mapped to 6-channel kernel"
        contract: "UMA.INTSTACK.v1"
        inputs: ["name", "Cp", "k_th", "rho", "T_m", "T_b"]
        outputs: ["F", "omega", "IC", "kappa", "S", "C", "gap", "regime"]
        frozen_params:
          epsilon: 1.0e-8
          n_channels: 6
        cross_references:
          - "closures/materials_science/element_database.py"
          - "closures/atomic_physics/periodic_kernel.py"
      - name: "electromagnetism"
        path: "closures/everyday_physics/electromagnetism.py"
        description: "Electromagnetic material properties (σ, ε_r, work function, band gap, μ_r, ρ) mapped to 6-channel kernel"
        contract: "UMA.INTSTACK.v1"
        inputs: ["name", "category", "sigma", "eps_r", "work_fn", "band_gap", "mu_r", "resistivity"]
        outputs: ["F", "omega", "IC", "kappa", "S", "C", "gap", "regime"]
        frozen_params:
          epsilon: 1.0e-8
          n_channels: 6
        cross_references:
          - "closures/atomic_physics/periodic_kernel.py"
          - "closures/materials_science/band_structure.py"
      - name: "optics"
        path: "closures/everyday_physics/optics.py"
        description: "Optical material properties (n, Abbe, transmittance, reflectance, band gap) mapped to 6-channel kernel"
        contract: "UMA.INTSTACK.v1"
        inputs: ["name", "n_d", "V_d", "T_vis", "R_vis", "E_gap", "n_group"]
        outputs: ["F", "omega", "IC", "kappa", "S", "C", "gap", "regime"]
        frozen_params:
          epsilon: 1.0e-8
          n_channels: 6
        cross_references:
          - "closures/atomic_physics/spectral_lines.py"
          - "closures/standard_model/particle_catalog.py"
      - name: "wave_phenomena"
        path: "closures/everyday_physics/wave_phenomena.py"
        description: "Wave systems (sound, EM, water, seismic, gravitational, matter) mapped to 6-channel kernel"
        contract: "UMA.INTSTACK.v1"
        inputs: ["name", "wave_type", "frequency", "wavelength", "phase_velocity", "Q_factor", "coherence_lengths", "amplitude_norm"]
        outputs: ["F", "omega", "IC", "kappa", "S", "C", "gap", "regime"]
        frozen_params:
          epsilon: 1.0e-8
          n_channels: 6
        cross_references:
          - "closures/quantum_mechanics/wavefunction_collapse.py"
          - "closures/quantum_mechanics/double_slit_interference.py"

    evolution:
      - name: "evolution_kernel"
        path: "closures/evolution/evolution_kernel.py"
        description: "40 organisms across tree of life mapped to 8-channel trace → Tier-1 invariants. Demonstrates geometric slaughter, specialist/generalist split, and living fossil persistence."
        contract: "UMA.INTSTACK.v1"
        inputs: ["name", "kingdom", "genetic_diversity", "morphological_fitness", "reproductive_success", "metabolic_efficiency", "immune_competence", "environmental_breadth", "behavioral_complexity", "lineage_persistence"]
        outputs: ["F", "omega", "IC", "kappa", "S", "C", "gap", "regime", "strategy"]
        frozen_params:
          epsilon: 1.0e-8
          n_channels: 8
        cross_references:
          - "closures/atomic_physics/periodic_kernel.py"
          - "closures/standard_model/subatomic_kernel.py"
      - name: "recursive_evolution"
        path: "closures/evolution/recursive_evolution.py"
        description: "RCFT overlay: 5 nested evolutionary scales (Gene → Clade) + 5 mass extinctions as collapse-return events. Scale-invariant kernel with IC degradation across levels."
        contract: "UMA.INTSTACK.v1"
        inputs: ["scale_name", "level", "channels", "mass_extinction_pre", "mass_extinction_post"]
        outputs: ["F", "omega", "IC", "kappa", "S", "C", "gap", "regime", "gamma_omega", "D_C", "seam_budget"]
        frozen_params:
          epsilon: 1.0e-8
          n_scales: 5
          n_extinctions: 5
        cross_references:
          - "closures/evolution/evolution_kernel.py"
          - "closures/rcft/recursive_field.py"

    unified:
      - name: "unified_minimal_structure"
        path: "closures/unified_minimal_structure.py"
        description: "Cross-scale formalization: 7 theorems (T17-T23) proving Tier-1 identities across 6 physical scales (subatomic → cosmological)"
        contract: "UMA.INTSTACK.v1"
        inputs: []
        outputs: ["scale_signatures", "three_pillars", "theorem_results", "grand_summary"]
        frozen_params:
          epsilon: 1.0e-8
          n_scales: 6
        cross_references:
          - "closures/standard_model/subatomic_kernel.py"
          - "closures/standard_model/pmns_mixing.py"
          - "closures/atomic_physics/cross_scale_kernel.py"
          - "closures/astronomy/cosmology.py"
          - "closures/everyday_physics/thermodynamics.py"

      - name: "scale_ladder"
        path: "closures/scale_ladder.py"
        description: "Complete scale ladder from Planck (10⁻³⁵ m) to cosmic horizon (10²⁶ m): 11 rungs, 406 objects, 61 OOM, with explicit inter-rung bridges and Tier-1 verification at every object"
        contract: "UMA.INTSTACK.v1"
        inputs: []
        outputs: ["rungs", "bridges", "pillar_results", "total_objects", "tier1_violations"]
        frozen_params:
          epsilon: 1.0e-8
          n_rungs: 11
          dynamic_range_oom: 61
        cross_references:
          - "closures/standard_model/subatomic_kernel.py"
          - "closures/materials_science/element_database.py"
          - "closures/everyday_physics/thermodynamics.py"
          - "closures/everyday_physics/electromagnetism.py"
          - "closures/everyday_physics/optics.py"
          - "closures/everyday_physics/wave_phenomena.py"
          - "closures/astronomy/cosmology.py"
