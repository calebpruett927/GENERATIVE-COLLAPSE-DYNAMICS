
```markdown
# docs/casepack_spec.md

UMCP CasePack Spec

This document defines the required structure and file semantics for a UMCP CasePack. A CasePack is an auditable unit of execution: it contains raw inputs, pinned references to contract + closures, an execution manifest, and (optionally) expected outputs and receipts for regression and publication.

Design principle

A CasePack must be inspectable without running code:
- A reviewer can see raw measurements, the contract, the closures, and the manifest.
- A reviewer can reproduce Ψ(t) ∈ [0,1]^n under the declared embedding.
- A reviewer can audit Tier-1 invariants and receipts.

Canonical vs produced artifacts

A) Canonical (tracked)
- Raw measurement inputs (small, representative)
- Contract reference and closure reference
- Manifest
- Expected outputs (for regression / publication-grade examples)

B) Produced (usually ignored by git)
- Local run directories (`runs/`, `outputs/`, `exports/`)
- Logs, caches, temporary plots

CasePack directory layout (required)

A CasePack lives at:

`casepacks/<casepack_id>/`

Required files:

- `manifest.json`
- `contract_ref.yaml`
- `closures_ref.yaml`
- One or more raw measurement files:
  - `raw_measurements.csv` (recommended) OR
  - `raw_measurements.jsonl` OR
  - a folder `raw/` containing multiple inputs

Recommended files:

- `README.md` (human context: what it is, how to run, what “success” means)
- `expected/` (golden outputs for regression and publication)
- `expected/ss1m_receipt.json` (minimum receipt)
- `expected/seam_receipt.json` (only when continuity claims are made)
- `expected/psi.csv` and/or `expected/psi.jsonl`
- `expected/invariants.json`

Minimal example tree

```text
casepacks/hello_world/
  README.md
  manifest.json
  contract_ref.yaml
  closures_ref.yaml
  raw_measurements.csv
  expected/
    psi.csv
    invariants.json
    ss1m_receipt.json
